# Yun Min Trading Agent Configuration
# This is the default configuration file. Override with environment variables.

# Exchange Configuration
exchange:
  name: binance
  testnet: true  # ALWAYS start with testnet!
  enable_rate_limit: true

# Trading Configuration
trading:
  mode: dry_run  # Options: dry_run, paper, live
  symbol: BTC/USDT
  timeframe: 5m
  initial_capital: 15000.0  # Increased for 3 symbols ($5k each)

# Risk Management (CRITICAL - DO NOT DISABLE)
risk:
  max_position_size: 0.08  # 8% of capital per position (more conservative)
  max_leverage: 2.0  # Reduced leverage for safety
  max_daily_drawdown: 0.04  # 4% max daily loss (tighter)
  stop_loss_pct: 0.025  # 2.5% stop loss
  take_profit_pct: 0.04  # 4% take profit (better R/R ratio)
  enable_circuit_breaker: true

# Strategy Configuration
strategy:
  name: ema_crossover
  fast_ema: 12  # Optimized for 5m timeframe
  slow_ema: 26  # Better signal quality
  rsi_period: 14
  rsi_overbought: 68.0  # Slightly more sensitive
  rsi_oversold: 32.0  # Earlier entry signals

# Machine Learning
ml:
  enabled: false  # Enable after testing rule-based strategy
  model_type: xgboost
  retrain_interval: 86400  # 24 hours
  feature_lookback: 100

# LLM Integration - OPENAI GPT-4O-MINI (OPTIMAL FREE MODEL)
llm:
  enabled: true
  provider: openai  # openai | grok
  model: gpt-4o-mini  # BEST FREE: 2.5M tokens/day, fast, smart
  # api_key loaded from environment: OPENAI_API_KEY
  fallback_model: gpt-4o  # Fallback to paid model if needed
  max_daily_tokens_gpt5: 250000  # 250k tokens/day FREE
  max_daily_tokens_mini: 2500000  # 2.5M tokens/day FREE
  explain_trades: true

# Database
database:
  db_url: sqlite:///data/yunmin.db
  redis_url: redis://localhost:6379/0

# Notifications - Telegram Bot for Real-time Alerts
telegram:
  enabled: false  # Set to true after setup
  bot_token: "YOUR_BOT_TOKEN_HERE"  # Get from @BotFather
  chat_id: "YOUR_CHAT_ID_HERE"      # Get from @userinfobot
  
  # Alert settings
  alerts:
    trade_execution: true      # Alert on every trade
    daily_summary: true        # Send daily report (8am, 8pm)
    critical_only: false       # Only send critical alerts
    
    # Thresholds
    drawdown_threshold: 10.0   # Alert if drawdown > 10%
    error_alerts: true         # Alert on errors
    
    # Bot lifecycle
    startup_alert: true        # Alert when bot starts
    shutdown_alert: true       # Alert when bot stops

# Legacy notification config (deprecated)
notification:
  telegram_enabled: false

# General
log_level: INFO
data_dir: ./data
